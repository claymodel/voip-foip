.\"	$Id$
.\"
.\" HylaFAX Facsimile Software
.\"
.\" Copyright (c) 1990-1996 Sam Leffler
.\" Copyright (c) 1991-1996 Silicon Graphics, Inc.
.\" HylaFAX is a trademark of Silicon Graphics
.\" 
.\" Permission to use, copy, modify, distribute, and sell this software and 
.\" its documentation for any purpose is hereby granted without fee, provided
.\" that (i) the above copyright notices and this permission notice appear in
.\" all copies of the software and related documentation, and (ii) the names of
.\" Sam Leffler and Silicon Graphics may not be used in any advertising or
.\" publicity relating to the software without the specific, prior written
.\" permission of Sam Leffler and Silicon Graphics.
.\" 
.\" THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND, 
.\" EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY 
.\" WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.  
.\" 
.\" IN NO EVENT SHALL SAM LEFFLER OR SILICON GRAPHICS BE LIABLE FOR
.\" ANY SPECIAL, INCIDENTAL, INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND,
.\" OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,
.\" WHETHER OR NOT ADVISED OF THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF 
.\" LIABILITY, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE 
.\" OF THIS SOFTWARE.
.\"
.if n .po 0
.ds Fx \fIHyla\s-1FAX\s+1\fP
.ds Ps P\s-2OST\s+2S\s-2CRIPT\s+2
.TH HYLAFAX-LOG ${MANNUM4_5} "May 12, 1996"
.SH NAME
log/* \- session log files
.SH DESCRIPTION
Files in the
.B log
directory in the \*(Fx
spooling area contain logging/tracing information about
transmit and receive sessions.
One file exists for each inbound or outbound call,
with the filename of the form ``cXXXXXXXX'' where XXXXXXXX
is a decimal sequence number termed a 
.IR "communication identifier" .
The amount and kind of tracing information that is recorded
for a call is defined by the
.B SessionTracing
parameter specified in the modem configuration file; see
.IR hylafax-config (${MANNUM4_5}).
.PP
Note that logging/tracing information generated by the server
outside of a session is directed to the
.IR syslog (3)
service and is controlled by the
.B LogFacility
and
.B ServerTracing
parameters specified in the modem configuration file.
.PP
[\fBNB: The remainder of this manual page is out of date.\fP]
.SH "SERVER OPERATION"
The following messages may appear when server operation tracing
(bit 1) is enabled:
.PP
\fBMODEM: Unknown type "%s" ignored\fP.
The
.B ModemType
configuration parameter was not recognized.
.PP
\fBMODEM %s %s/%s\fP.
This message is generated each time the modem is reset and made ready
for use.
.PP
\fB%s: Can not lock device.\fP.
The 
.SM UUCP
lockfile for the modem could not be created because another
process has a lockfile already in place.
.PP
\fB%s: Can not open modem (%m)\fP.
.IR open (2)
on the special device file for the modem failed; the error status
is presented; c.f.
.IR intro (2).
.PP
\fB%s: Can not open modem (timed out).\fP.
.IR open (2)
on the special device file blocked and was timed out.
This typically is because the system does not support a non-blocking
mechanism for opening the device and the presented interface requires
that carrier be present before the open can succeed.
.PP
\fB%s: setuid root failed (%m)\fP.
The server process was unable to establish root privileges.
This is usually caused by server being improperly installed.
.PP
\fB%s: fcntl: %m\fP.
The server was unable to turn off the 
.SM O_NDELAY
bit on the open modem file descriptor after doing a non-blocking
open of the modem device special file.
.PP
\fBschedctl: %m\fP.
(\fIOnly on Silicon Graphics systems.\fP)
A
.IR schedctl (2)
system call to set the server process priority failed.
.PP
\fBsched policy=%d, priority=%d\fP.
(\fIOnly on POSIX compliant systems.\fP)
Describes a
.IR setscheduler (2)
system call to enhance real-time job scheduling.
.PP
\fBUnable to set %s scheduling parameters: %m\fP.
(\fIOnly on \s-1SVR4\s+1-style systems.\fP)
A
.IR priocntl
system call to set the server process priority failed.
.PP
\fBpriocntl(%s): %m\fP.
(\fIOnly on \s-1SVR4\s+1-style systems.\fP)
A
.IR priocntl
system call to get the current process scheduling information failed.
.PP
\fBsched policy=%d, priority=%d\fP.
(\fIOnly on POSIX-compliant systems.\fP)
Indicates a possible change in the system job scheduling due to use of
.B PriorityScheduling
.PP
\fB%s: Can not deduce modem type.\fP.
The server was unable to reset and initialize the modem.
This can be caused by many things: wrong device filename, improper
cabling, incorrect modem type, incorrect modem configuration, etc.
.PP
\fBRECV: Permission denied (unacceptable client TSI)\fP.
A receive request was denied because the client was denied access
through the
.SM TSI
access control list mechanism; c.f.
.IR tsi (${MANNUM4_5}).
.PP
\fBRECV: Unable to create file "%s" for received data\fP.
The server was unable to create a file for writing
the received facsimile data.
Check the permission on the
.B recvq
subdirectory.
Beware also that the server uses
.IR tempnam (3)
to create these files and the presence of the
.SM TMPDIR
environment variable may cause the server to try to create 
files in a directory other than the
.B recvq
directory.
.PP
\fBRECV data in "%s"\fP.
This is an information message; the received facsimile is being
placed in the specified filename.
.PP
\fBRECV: empty file "%s" deleted\fP.
A receive operation terminated without any good pages being received;
consequently the empty file is deleted.
.PP
\fBACCEPT TSI "%s"\fP.
The
.SM TSI
received during a receive operation was accepted and the receive
will continue.
.PP
\fBREJECT TSI "%s"\fP.
The
.SM TSI
received during a receive operation was rejected and the receive
will be aborted at the next opportunity.
.PP
\fBPOLL: Unable to create file "%s" for received data\fP.
The server was unable to create a file for the polled data.
See also above under ``\fBRECV: Unable...\fP''.
.PP
\fBPOLL: empty file "%s" deleted\fP.
A poll operation terminated without any good pages being received;
consequently the empty file is deleted.
.PP
\fBinternal muckup, lost polling request\fP.
This message should not appear; it
indicates the server went to do a poll but did not find
the user-specified poll request in its job description; c.f.
.IR sendq (${MANNUM4_5}).
.PP
\fBSEND FAILED: %s\fP.
A transmission failed for the reason shown.
.PP
\fBSEND: Can not open document file "%s", dirnum %d\fP.
The server was unable to open the
.SM TIFF
document file that was to be transmitted.
.PP
\fBSEND: Can not set directory in document file "%s", dirnum %d\fP.
The server was unable to access the
.SM TIFF
directory associated with the next page to transmit.
The document file and directory number for the page are shown.
.PP
\fBSEND: %s "%s", dirnum %d\fP.
A transmission failed because three attempts were made to transmit the
same page.  The full reason for the failure is displayed along with
the document filename and directory number of the page that failed.
.PP
\fBSEND: Document is not in a Group 3-compatible format (file %s, compression %d)\fP.
The 
.SM TIFF
document submitted for transmission was not was not compressed
with
.SM "CCITT T.4"
compression; the
.SM TIFF
compression code number is shown.
This is treated as a fatal error and the job is aborted.
.PP
\fBREJECT: Document was encoded with 2DMR, but client does not support this data format\fP.
The document to be transmitted was encoded using the optional
.SM 2DMR
form of the
.SM "CCITT T.4"
standard, but the client capabilities indicate this data format is not
supported.
This is not a fatal error; the server will disconnect and reimage the
document using
.SM 1DMH
encoding.
.PP
\fBREJECT: Client does not support document page width, max remote page width %u, image width %lu\fP.
The document to be transmitted was imaged using a page width that is
not supported by the client.
This is not a fatal error; the server will disconnect and reimage the document
using the newly discovered client capabilities.
.PP
\fBREJECT: High resolution document is not supported by client, image resolution %g line/mm\fP.
The document to be transmitted was imaged using 7 line/mm, but the client
only supports 3.85 line/mm.
This is not a fatal error; the server will disconnect and reimage the document
using the newly discovered client capabilities.
.PP
\fBREJECT: Client does not support document page length, max remote page length %d mm, image length %lu rows (%.2f mm)\fP.
The document to be transmitted was imaged using a page length that is
not supported by the client.
This is not a fatal error; the server will disconnect and reimage the document
using the newly discovered client capabilities.
.PP
\fBABORT: job abort requested\fP.
The server received a request on a command
.SM FIFO
file to abort the current send/receive job.
.PP
\fBANSWER: Can not lock modem device\fP.
The server went to answer an incoming call, but found the device
locked for use by another process.
This is the usual scenario that takes place when an outbound call is
made through the modem: the echo from data written to the modem causes
the fax server to wakeup, only to discover the
.SM UUCP
lockfile for the outgoing call.
The fax server will discard its handle on the modem and wait for the
lockfile to be removed.
.PP
\fBANSWER: FAX CONNECTION\fP.
The server is initiating service for an incoming facsimile call.
.PP
\fBANSWER: DATA CONNECTION\fP.
The server is initiating service for an incoming data call.
.PP
\fBANSWER: Data connections are not permitted\fP.
The server rejected an incoming data call because the configured
.B GettyArgs
parameter is null.
.PP
\fBANSWER: Could not switch modem to data service\fP.
The server was unable to initiate service for an incoming data call
because of some problem in setting up the modem for data use.
.PP
\fBANSWER: VOICE CONNECTION\fP.
The server is initiating service for an incoming voice call.
.PP
\fBANSWER: Could not switch modem to voice service\fP.
The server was unable to initiate service for an incoming voice call
because of some problem in setting up the modem for voice use.
.PP
\fBANSWER: %s\fP.
An error was detected by the modem layer while setting up an incoming call.
.PP
\fBGETTY: could not create\fP.
The server was unable to create an internal data structure used
to track a getty process.
.PP
\fBGETTY: can not fork\fP.
The server was unable to
.IR fork (2)
a new process in order to startup the getty program.
.PP
\fBrunGetty::setregid: %m\fP.
.br
\fBrunGetty::setreuid: %m\fP.
The server was unable to change the process identity before starting
up the getty program.
.PP
\fBGETTY: start pid %u, "%s"\fP.
The server has started up a getty program to service the incoming
data call.
The getty process identifier is displayed along with the arguments
passed to the program.
.PP
\fBGETTY: terminated, exit status %#o\fP.
The server has reaped a getty process which it started up.
.PP
\fBParse error in dial string rules "%s"\fP.
The dial string rules in the specified file contain a syntax error.
The
.IR dialtest (${MANNUM1_8})
program should be used to debug the problem.
.PP
\fBUnknown answer type "%s"\fP.
The 
.B AnswerRotary
configuration parameter has an invalid answer type string; consult
.IR hylafax-config (${MANNUM4_5}).
.PP
\fBSyntax error, missing ':' in "%s"\fP.
.br
\fBSyntax error, missing quote mark in "%s"\fP.
.br
\fBUnknown configuration parameter "%s" ignored\fP.
A syntax error was encountered in the server configuration file
or in a message received through the
.SM FIFO
special file.
.SH "FAX PROTOCOL"
The following messages may appear when the facsimile protocol tracing
(bit 2) is enabled:
.PP
\fB%s: %s (Phase B)\fP.
An error occurred during Phase B of Group 3 protocol processing.
.PP
\fBBad HDLC terminating flag received.\fP.
During Class 1 ECM; a terminating flag for an HDLC frame was corrupt.
.PP
\fBDELAY %u ms\fP.
A %u-millisecond delay was done on the host.
.PP
\fBDIAL %s\fP.
The phone number %s was dialed.  Note that this is the 
phone number passed as an argument to the
.I ModemDialCmd
parameter and so may not include additional
dialing prefixes sent to the modem.
.PP
\fBError sending T.30 prologue frames\fP.
An error occurred while trying to transmit the
.SM "T.30 DCS"
frames.
.PP
\fBHDLC frame length invalid\fP.
An ECM
.SM HDLC
protocol message was excessively long.
.PP
\fBHDLC frame not byte-oriented.  Trailing byte: %#x\fP.
An ECM
.SM HDLC
protocol message was received with a number of bits
incompatible with necessary byte-orientation.
.PP
\fBHDLC frame too short (%u bytes)\fP.
An
.SM HDLC
protocol message was not at least 3 bytes long outside of
ECM protocol or at least 5 bytes long within ECM protocol.
.PP
\fBHDLC frame with bad address field %#x\fP.
An
.SM HDLC
protocol message was sent/received with an address field other
than 0xff.
.PP
\fBHDLC frame with bad control field %#x\fP.
An
.SM HDLC
protocol message was sent/received with an invalid
control field.
.PP
\fBMODEM ERROR: %s\fP.
While waiting for a modem response/result an error was
encountered (e.g. an ``\s-1ERROR\s+1'' result code).
.PP
\fBMODEM protocol botch ("%s"), cannot parse PPR\fP.
The Class 2 modem driver encountered an error parsing the post-page
response code in a ``\s-1+FPTS:\s+1'' status message.
.PP
\fBMODEM protocol botch, can not parse "%s"\fP.
The Class 2 modem driver encountered an error parsing the displayed
session capabilities string.
This is usually due to a communication problem between host and
modem (though it can also be caused by bogus modem firmware).
.PP
\fBMODEM protocol botch: OK without +FPTS:\fP.
The Class 2 modem driver encountered an error in the host-modem
protocol for receiving facsimile.
While waiting for the post-page status (``\s-1+FPTS:\s+1''),
an ``\s-1OK\s+1'' result was received first.
This should never happen.
.PP
\fBMODEM protocol botch: +FET: without +FPTS:\fP.
The Class 2 modem driver encountered an error in the host-modem
protocol for receiving facsimile.
While waiting for the post-page status (``\s-1+FPTS:\s+1''),
a ``\s-1+FET:\s+1'' status message was received first.
This should never happen.
.PP
\fBPOLL with CIG "%s"\fP.
A poll operation is beginning; the Calling Subscriber Identification 
string that is transmitted to the peer is displayed.
.PP
\fBPOLL: begin\fP.
The server is beginning a polled receive operation.
.PP
\fBPOLL: end\fP.
The server just completed a polled receive operation.
.PP
\fBPOLL: %s (begin)\fP.
The specified error message occurred when
initiating the poll operation.
.PP
\fBPOLL: %s (end)\fP.
The specified error message occurred while
terminating the poll operation.
.PP
\fBProblem receiving post-page HDLC frame\fP.
An error occurred while receiving the HDLC frame that is expected
to hold the post-page message.
.PP
\fBProblem sending TCF data\fP.
An error occurred while sending the TCF data during training.
.PP
\fBRECV PPM: %s\fP.
The specified post-page message was received during a receive operation.
.PP
\fBRECV PPR: %s\fP.
The specified post-page response was transmitted during a receive operation.
.PP
\fBRECV training at %s %s\fP.
During a receive operation, begin training at the specified modulation
and signalling rate.
.PP
\fBRECV: begin\fP.
The server is beginning a receive operation.
.PP
\fBRECV: end\fP.
The server just completed a receive operation.
.PP
\fBRECV: %d bytes of data\fP.
During a receive operation the specified number of bytes of
facsimile data were received for the current page.
.PP
\fBRECV: %lu bytes, %lu total rows\fP.
During a receive operation the specified number of bytes of
facsimile data were received.
The current running total of rows in the current page being
received is also displayed.
.PP
\fBRECV: %s (begin)\fP.
The specified error message occurred when
initiating the receive operation.
.PP
\fBRECV: %s (end)\fP.
The specified error message occurred while
terminating the receive operation.
.PP
\fBRECV: TCF %u bytes, %u%% non-zero, %u zero-run\fP.
When receiving training, the received
.SM TCF 
had the specified number of bytes of which a certain percentage
was non-zero and the longest consecutive run of zero data was
found.
.PP
\fBRECV: reject TCF (too many non-zero, max %u%%)\fP.
The received
.SM TCF
was deemed unacceptable because there was too high a percentage
of non-zero data in it.
The
.B Class1TCFMaxNonZero
configuration parameter controls this decision.
.PP
\fBRECV: reject TCF (zero run too short, min %u)\fP.
The received
.SM TCF
was deemed unacceptable because the longest run of zero data
was too short.
The
.B Class1TCFMinZero
configuration parameter controls this decision.
.PP
\fBRECV: bad code word 0x%x, len %d, row %lu\fP.
.PP
\fBRECV: begin page\fP.
During a receive operation a new page of data is about to received
on the high speed message carrier.
.PP
\fBRECV: end page\fP.
During a receive operation, receipt of page of data
on the high speed message carrier just completed.
.PP
\fBRECV frame FCS check failed\fP.
During ECM protocol, a received
.SM HDLC
frame was received which fails the CRC check and the frame was marked
as corrupt.
.PP
\fBRECV: premature EOF\fP.
The server did not receive <DLE><ETX> to signal the end of a page
of facsimile data during a page receive operation.
.PP
\fBREMOTE supports \*(Ps transfer\fP.
.br
\fBREMOTE does not support \*(Ps transfer\fP.
The peer does or does not support the Adobe \*(Ps transfer
extensions to the
.SM T.30
protocol.
.PP
\fBRECV: Missing EOL after 5 seconds\fP.
The server timed out while receiving page data.
This typically is caused by a flow control configuration problem
that causes data from the modem to the host to be stopped.
.PP
\fBRECV: %u bytes of data, %lu total lines\fP.
While receiving page data, %u bytes of raw data were received;
the current total number of rows in the page are also displayed.
.PP
\fBRECV: %lu bad lines %lu consecutive bad lines\fP.
After the completion of a page receive, the total number of
rows received in error and the maximum consecutive rows that
were received in error are printed.
These numbers should always be zero unless copy quality checking
is done in the host.
.PP
\fBRECV received %u frames of block %u of page %u\fP.
When the server does Class 1 ECM; a complete block has been received
with a given number of frames for a named page.
.PP
\fBRECV received assumed RCP frame with block end\fP.
When the server does Class 1 ECM; the block-end indicator was received
without a proper RCP frame and the receipt of an RCP frame was
therefore assumed or feigned.
.PP
\fBRECV received frame number %u\fP.
When the server does Class 1 ECM; the numbered image frame has been received.
.PP
\fBRECV received RCP frame\fP.
When the server does Class 1 ECM; the first RCP frame was received,
which signifies the end of the image block.
.PP
\fBRECV: REJECT page quality, %u%% good lines (%u%% required)\fP.
When the server does copy quality checking; the received page
is deemed to have unacceptable quality because the percentage
of good rows in the page is too low.
This check is controlled by the
.B PercentGoodLines
configuration parameter.
.PP
\fBRECV: REJECT page quality, %u-line run (max %u)\fP.
When the server does copy quality checking; the received page
is deemed to have unacceptable quality because the maximum
consecutive rows that were received in error exceeds the threshold
specified by the
.B MaxBadLines
configuration parameter.
.PP
\fBRECV sent fourth PPR\fP.
During Class 1 ECM; the server has rejected a received image block
consecutively four times at which point the sender is allowed to either
continue to retransmit the block or to end retransmissions.
.PP
\fBREMOTE HANGUP: %s (code %s)\fP.
The modem returned a hangup status code (``\s-1+FHNG:\s+1'' or
``\s-1+FHS:\s+1'') to the host.
This indicates a protocol problem that was determined 
.BR "within the modem" ;
there is usually nothing that the server can do to work around such errors.
.PP
\fBREMOTE TSI "%s"\fP.
During a receive operation, the specified
.SM TSI
was received.
This string is checked against the
.SM TSI
access control list described in
.IR tsi (${MANNUM4_5}).
.PP
\fBREMOTE best format %s\fP.
The peers' ``best'' data format according to the received
.SM DIS
frame.
``Best'' here is based on the belief that
.SM 2DMMR
data is better than
.SM 2DMR
with optional uncompressed data, is better than
.SM 2DMR
data, is better than
.SM 1DMH
data.
.PP
\fBREMOTE best rate %s\fP.
The peers' best signalling rate according to the received
.SM DIS
frame.
.PP
\fBREMOTE best vres %s\fP.
The peers' best vertical resolution according to the received
.SM DIS
frame.
.PP
\fBREMOTE has document to POLL\fP.
The peer indicates it has a document that is available
for retrieval.
.PP
\fBREMOTE max %s\fP.
The peers' maximum page width/length according to the received
.SM DIS
frame.
.PP
\fBREMOTE supports error correction\fP.
The peer supports the optional Error Correct Mode (\c
.SM ECM\c
) according to the received
.SM DIS
frame.
.PP
\fBREMOTE wants %s\fP.
The received
.SM DCS
frame indicates the peer wants the specified capability.
.PP
\fBSEND file "%s"\fP.
The specified file is about to be transmitted.
.PP
\fBSEND 1D RTC\fP.
.br
\fBSEND 2D RTC\fP.
A 1D- or 2D-encoded Return To Control (\c
.SM RTC\c
) packet was sent to terminate the transmission of a page of facsimile data.
.PP
\fBSEND begin page\fP.
A page of facsimile data is about to be transmitted on the
high speed message carrier.
.PP
\fBSEND end page\fP.
The transmission of a page of facsimile data on the
high speed message carrier was completed.
.PP
\fBSEND training at %s %s\fP.
Training is about to be sent to the peer using the specified
modulation and signalling rate.
.PP
\fBSENT %u bytes of data\fP.
The specified amount of raw facsimile page data was transmitted
on the high speed message carrier.
.PP
\fBTRAINING failed\fP.
.br
\fBTRAINING succeeded\fP.
Peer training succeeded or failed.  When sending this is based on
a message returned by the peer.
When receiving this is based on an analysis of the received
.SM TCF
data.
.PP
\fBUSE %s\fP.
Use the specified session capability during a send or receive.
The capability is based on the peers' best capabilities, the
capabilities of the modem, and, when transmitting, the characteristics
of the document.
.SH "MODEM OPERATIONS"
The following messages may appear when modem operation tracing
(bit 3) is enabled:
.PP
\fBMODEM set baud rate: %d baud, input flow %s, output flow %s\fP.
The
.SM DTE-DCE
communication rate was set %d bits/sec on the host and
the specified flow control method was setup for data received
from the modem (input) and transmitted to the modem (output).
.PP
\fBMODEM set baud rate: %d baud (flow control unchanged)\fP.
The 
.SM DTE-DCE
communication rate was changed
without modifying the current flow control setup.
.PP
\fBMODEM set XON/XOFF/NOW: input %s, output %s\fP.
.br
\fBMODEM set XON/XOFF/DRAIN: input %s, output %s\fP.
.br
\fBMODEM set XON/XOFF/FLUSH: input %s, output %s\fP.
The software flow control setup for data exchanged between host
and modem was changed.
The
.SM NOW ,
.SM DRAIN ,
and
.SM FLUSH ,
actions indicate whether the operation is done immediately, after
any pending data is transmitted to the modem, or after pending data
is discarded.
On input
.SM XON/XOFF
characters are either
.I ignored
(passed through to the server uninterpreted)
or
.I interpreted
(by the system's terminal driver in order to control the flow of data).
Likewise, on output
.SM XON/XOFF
characters are either
.I disabled
(not generated by the terminal driver), or
.I generated
(by the terminal driver to effect flow control of data
from the modem to the host).
.PP
\fBMODEM input buffering enabled\fP.
.br
\fBMODEM input buffering disabled\fP.
On systems that buffer input data in the operating system before delivering
it to applications the server will enable and disable buffering as
best it can in those cases where low input latency is critical.
.\".PP
.\"\fBMODEM send break\fP.
.\"A break signal was sent to the modem.
.\"At present only the Everex modem driver sends breaks.
.PP
\fBTIMEOUT: %s\fP.
A timeout occurred while doing a modem-related operation; typically
reading or writing data.
.PP
\fBError #%u reading from modem\fP.
An error was returned by a 
.IR read (2)
system call.
This usually happens when the modem prematurely drops the
.SM DCD
signal.
.SH "MODEM COMMUNICATION"
The following messages may appear when modem communication tracing
(bit 4) is enabled:
.PP
\fB--> [%d:%s]\fP.
A %d-byte line of data was received from the modem.
Printable data are displayed.
.PP
\fB<-- data [%d]\fP.
%d bytes of unprintable data were sent to the modem, typically
facsimile data.
.PP
\fB<-- [%d:%s]\fP.
%d bytes of printable data were sent to the modem.
The data are displayed.
.SH "TIMEOUTS"
The following messages may appear when timeout tracing (bit 5) is enabled:
.br
\fBstart %d second timer\fP,
.br
\fBstop timer\fP (stop the current timeout before it expires), and
.br
\fBstop timer - timer expired\fP (the current timeout expired.)
.SH "HDLC FRAMES"
When tracing of raw
.SM HDLC
frames (bit 6) is enabled each frame sent and received is logged:
\fB<-- HDLC<%u:%.*s>\fP
for sent frames and
\fB--> HDLC<%u:%.*s>\fP
for received frames.
These messages indicate that a %u-byte long
.SM HDLC
frame was sent or received.
The first byte should always be 0xff, the address field specified
for dialup communication.
The second byte should be a frame control field.
The contents of the frame is displayed as sequence of bytes in hexadecimal.
.SH "BINARY I/O"
When binary input/output (bit 7) is traced there are two types of messages
logged:
\fB<-- <%u:%.*s>\fP
for data sent to the modem and
\fB--> <%u:%.*s>\fP
for data received from the modem.
Each message indicates that %u bytes of data were transferred.
The data is displayed as a sequence of bytes in hexadecimal.
.SH "SERVER STATE TRANSITIONS"
Bit 8 controls the tracing of state transitions in the facsimile server.
There are currently eight states:
.sp .5
.RS
.nf
.ta \w'\s-1MODEMWAIT\s+1    'u
\fBState\fP	\fBDescription\fP
\s-1BASE\s+1 	during startup and initialization
\s-1RUNNING\s+1	normal operation
\s-1MODEMWAIT\s+1	waiting for the modem to come ready after a reset
\s-1LOCKWAIT\s+1	waiting for a \s-1UUCP\s+1 lockfile to be removed
\s-1GETTYWAIT\s+1	waiting for a \fIgetty\fP process to terminate
\s-1SENDING\s+1	transmitting a facsimile
\s-1ANSWERING\s+1	answering an incoming telephone call
\s-1RECEIVING\s+1	receiving a facsimile
.fi
.RE
.PP
\fBSTATE CHANGE: %s -> %s (timeout %ld)\fP.
The server is changing its internal state.  The
timeout (in seconds) is used when polling for 
asynchronous events such as a modem becoming ready.
.PP
\fBSTATE CHANGE: %s -> %s\fP.
The server is changing its internal state without starting a timeout.
.SH "QUEUE MANAGEMENT"
Bit 9 controls the tracing the management of the job queue.
.PP
\fBSEND NOT READY: "%s" in %s\fP.
It was not time to send the specified job; it will be requeued for
the indicated time interval.
.PP
\fBSEND BLOCKED BY CONCURRENT CALL: "%s" in %s\fP.
The specified job is blocked by another call to the same phone number;
it will be requeued for the indicated time interval.
.PP
\fBSEND BLOCKED BY CONCURRENT JOB: "%s" by "%s"\fP.
The specified job is blocked by another job to the same phone number;
it will be requeued for the indicated time interval.
.PP
\fBJOB "%s"\fP.
The specified job is about to be processed.
.PP
\fBCONVERT POSTSCRIPT: "%s"\fP.
The server is about to invoke the \*(Ps interpreter to image a
document; the shell command used is displayed.
.PP
\fBJOB TIMER START %s\fP.
The timer used to control scanning of the job queue is started with
the displayed value.
.PP
\fBJOB TIMER STOP (Q head %s tts %s)\fP.
The timer used to control scanning of the job queue is stopped.
The job at the head of the queue and that job's time-to-send are displayed.
.PP
\fBJOB TIMER STOP (Q empty)\fP.
The timer used to control scanning of the job queue is stopped.
The job queue was found to be empty.
.SH "COPY QUALITY"
When doing copy quality checking during a receive operation the following
messages may be logged if bit 10 is set:
.PP
\fBRECV/CQ: adjusting for trailing noise (%lu run)\fP.
The total number of rows of data in the received page is adjusted
(downward) by %lu.
This is done to handle the case where garbage data are received after the
.SM RTC
resulting in some number of consecutive bad rows after the page data.
.PP
\fBRECV/CQ: Invalid %s code word, row %lu, x %d\fP.
An invalid 1D- or 2D-
.SM T.4
code word was encountered on the specified row and horizontal
offset within the row.
When this occurs the server will scan for an
.SM EOL
code and then regenerate the bad row with the last good row of data.
.PP
\fBRECV/CQ: Premature EOL (%s), row %lu, x %d\fP.
An
.SM EOL
code was encountered before a complete row of pixels was received.
When this occurs the server will discard the bad row
and replace it with the last good row that was received.
.PP
\fBRECV/CQ: Bad %s pixel count, row %lu, x %d\fP.
A row of data was received with pixel count greater than the
negotiated page width.
When this occurs the server will discard the bad row
and replace it with the last good row that was received.
.PP
\fBRECV/CQ: Panic, bad %s decoding state, row %lu, x %d\fP.
The decoder state machine was found in a bad internal state.
When this occurs the server will scan for an
.SM EOL
code and regenerate the row using the last good received row.
.SH "SEE ALSO"
.IR faxq (${MANNUM1_8}),
.IR faxgetty (${MANNUM1_8}),
.IR faxsend (${MANNUM1_8}),
.IR hylafax-config (${MANNUM4_5})
